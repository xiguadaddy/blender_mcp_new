2025-03-22 00:10:36,664 - BlenderMCP - INFO - ==================================================
2025-03-22 00:10:36,665 - BlenderMCP - INFO - MCP服务器启动
2025-03-22 00:10:36,665 - BlenderMCP - INFO - Python版本: 3.12.7 (main, Oct 16 2024, 00:21:24) [MSC v.1929 64 bit (AMD64)]
2025-03-22 00:10:36,665 - BlenderMCP - INFO - Python路径: D:\MCP\blender_mcp_new\.venv\Scripts\python.exe
2025-03-22 00:10:36,665 - BlenderMCP - INFO - 工作目录: D:\MCP\blender_mcp_new
2025-03-22 00:10:36,665 - BlenderMCP - INFO - MCP SDK版本信息: 未知
2025-03-22 00:10:36,665 - BlenderMCP - INFO - MCP SDK路径: D:\MCP\blender_mcp_new\.venv\Lib\site-packages\mcp\__init__.py
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG - MCP包属性:
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - CallToolRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - ClientCapabilities: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - ClientNotification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - ClientRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - ClientResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - ClientSession: <class 'type'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - CompleteRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - CreateMessageRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - CreateMessageResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - ErrorData: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - GetPromptRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - GetPromptResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,665 - BlenderMCP - DEBUG -   - Implementation: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - IncludeContext: <class 'typing._LiteralGenericAlias'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - InitializeRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - InitializeResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - InitializedNotification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - JSONRPCError: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - JSONRPCRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - JSONRPCResponse: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - ListPromptsRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - ListPromptsResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - ListResourcesRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - ListResourcesResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - ListToolsResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,666 - BlenderMCP - DEBUG -   - LoggingLevel: <class 'typing._LiteralGenericAlias'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - LoggingMessageNotification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - McpError: <class 'type'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - Notification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - PingRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ProgressNotification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - PromptsCapability: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ReadResourceRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ReadResourceResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - Resource: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ResourceUpdatedNotification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ResourcesCapability: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - RootsCapability: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - SamplingMessage: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - SamplingRole: <class 'typing._LiteralGenericAlias'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ServerCapabilities: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ServerNotification: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ServerRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ServerResult: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - ServerSession: <class 'type'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - SetLevelRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,667 - BlenderMCP - DEBUG -   - StdioServerParameters: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - StopReason: <class 'typing._UnionGenericAlias'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - SubscribeRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - Tool: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - ToolsCapability: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - UnsubscribeRequest: <class 'pydantic._internal._model_construction.ModelMetaclass'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - client: <class 'module'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - server: <class 'module'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - shared: <class 'module'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - stdio_client: <class 'function'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - stdio_server: <class 'function'>
2025-03-22 00:10:36,668 - BlenderMCP - DEBUG -   - types: <class 'module'>
2025-03-22 00:10:36,668 - BlenderMCP - INFO - ==================================================
2025-03-22 00:10:36,668 - BlenderMCP - INFO - 尝试连接到Blender IPC服务器，通信路径: port:27015
2025-03-22 00:10:36,668 - BlenderMCP.ServerCheck - INFO - 尝试连接Blender IPC服务器 localhost:27015...
2025-03-22 00:10:36,671 - BlenderMCP.ServerCheck - INFO - Blender IPC服务器在 localhost:27015 已运行
2025-03-22 00:10:36,672 - BlenderMCP.IPCClient - DEBUG - 使用端口模式，端口号: 27015
2025-03-22 00:10:36,672 - BlenderMCP.IPCClient - DEBUG - 使用端口模式，端口号: 27015
2025-03-22 00:10:36,672 - BlenderMCP - INFO - 连接尝试 1/10...
2025-03-22 00:10:36,672 - BlenderMCP.IPCClient - INFO - 正在连接到Blender IPC服务器: port:27015
2025-03-22 00:10:36,673 - BlenderMCP.IPCClient - INFO - 成功连接到Blender IPC服务器，端口: 27015
2025-03-22 00:10:36,673 - BlenderMCP - INFO - 成功连接到Blender IPC服务器
2025-03-22 00:10:36,673 - BlenderMCP - INFO - 正在创建MCP服务器...
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 初始化Blender MCP服务器...
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Initializing server 'blender-mcp'
2025-03-22 00:10:36,673 - BlenderMCP.Server - DEBUG - 服务器实例创建成功: Server
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 注册资源处理程序...
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourcesRequest
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListResourceTemplatesRequest
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for ReadResourceRequest
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for SubscribeRequest
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 注册工具处理程序...
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for ListToolsRequest
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for CallToolRequest
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 注册提示处理程序...
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 检查服务器提示功能支持...
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for PromptListRequest
2025-03-22 00:10:36,673 - mcp.server.lowlevel.server - DEBUG - Registering handler for GetPromptRequest
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 成功注册提示处理程序
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 服务器类型: Server
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 可用方法: ['call_tool', 'completion', 'create_initialization_options', 'get_capabilities', 'get_prompt', 'lifespan', 'list_prompts', 'list_resource_templates', 'list_resources', 'list_tools', 'notify_resource_updated', 'progress_notification', 'read_resource', 'run', 'set_logging_level', 'subscribe_resource', 'unsubscribe_resource']
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 检查装饰器方法...
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 服务器具有list_tools装饰器方法
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 服务器具有call_tool装饰器方法
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 服务器具有list_resources装饰器方法
2025-03-22 00:10:36,673 - BlenderMCP.Server - INFO - 服务器具有read_resource装饰器方法
2025-03-22 00:10:36,675 - BlenderMCP.Server - INFO - 服务器具有list_prompts装饰器方法
2025-03-22 00:10:36,675 - BlenderMCP.Server - INFO - 服务器具有get_prompt装饰器方法
2025-03-22 00:10:36,675 - BlenderMCP.Server - INFO - 服务器具有run方法
2025-03-22 00:10:36,675 - BlenderMCP.Server - WARNING - 无法访问处理程序列表，跳过验证
2025-03-22 00:10:36,675 - BlenderMCP.Server - INFO - 服务器初始化完成
2025-03-22 00:10:36,679 - BlenderMCP - INFO - MCP服务器: 准备启动服务器
2025-03-22 00:10:36,679 - BlenderMCP - INFO - 初始化NotificationOptions...
2025-03-22 00:10:36,679 - BlenderMCP - DEBUG - 创建了具有完整功能的NotificationOptions: <mcp.server.lowlevel.server.NotificationOptions object at 0x000001DC442C8DA0>
2025-03-22 00:10:36,679 - BlenderMCP - INFO - 获取服务器能力...
2025-03-22 00:10:36,679 - BlenderMCP.Server - DEBUG - 成功获取服务器能力: experimental={'blender': {'can_render': True, 'supports_3d': True, 'supports_materials': True, 'supports_animation': True}} logging=None prompts=PromptsCapability(listChanged=True) resources=ResourcesCapability(subscribe=False, listChanged=True) tools=ToolsCapability(listChanged=True)
2025-03-22 00:10:36,679 - BlenderMCP - DEBUG - 服务器能力: experimental={'blender': {'can_render': True, 'supports_3d': True, 'supports_materials': True, 'supports_animation': True}} logging=None prompts=PromptsCapability(listChanged=True) resources=ResourcesCapability(subscribe=False, listChanged=True) tools=ToolsCapability(listChanged=True)
2025-03-22 00:10:36,679 - BlenderMCP - INFO - 服务器信息: name=blender-mcp, version=0.2.1
2025-03-22 00:10:36,679 - BlenderMCP - INFO - 创建初始化选项...
2025-03-22 00:10:36,680 - BlenderMCP - DEBUG - 初始化选项: server_name='blender-mcp' server_version='1.4.1' capabilities=ServerCapabilities(experimental={'blender': {'server_version': '0.2.1', 'protocol_version': '0.3.0', 'supports_resources': True, 'supports_tools': True, 'supports_prompts': True}}, logging=None, prompts=PromptsCapability(listChanged=True), resources=ResourcesCapability(subscribe=False, listChanged=True), tools=ToolsCapability(listChanged=True)) instructions=None
2025-03-22 00:10:36,680 - BlenderMCP - INFO - 使用协议版本: 0.3.0
2025-03-22 00:10:36,680 - BlenderMCP - INFO - 开始运行服务器...
2025-03-22 00:10:36,680 - BlenderMCP - INFO - server.run方法签名: (read_stream: 'MemoryObjectReceiveStream[types.JSONRPCMessage | Exception]', write_stream: 'MemoryObjectSendStream[types.JSONRPCMessage]', initialization_options: 'InitializationOptions', raise_exceptions: 'bool' = False)
2025-03-22 00:10:36,684 - mcp.server.lowlevel.server - DEBUG - Received message: root=InitializedNotification(method='notifications/initialized', params=None, jsonrpc='2.0')
2025-03-22 00:10:37,126 - mcp.server.lowlevel.server - DEBUG - Received message: <mcp.shared.session.RequestResponder object at 0x000001DC44674FB0>
2025-03-22 00:10:37,126 - mcp.server.lowlevel.server - INFO - Processing request of type ListToolsRequest
2025-03-22 00:10:37,126 - mcp.server.lowlevel.server - DEBUG - Dispatching request of type ListToolsRequest
2025-03-22 00:10:37,126 - BlenderMCP.Server - INFO - 正在处理list_tools请求，准备获取工具数据...
2025-03-22 00:10:37,126 - BlenderMCP.Server - INFO - 已准备 5 个预定义工具
2025-03-22 00:10:37,126 - BlenderMCP.Server - INFO - 尝试使用MCP标准格式获取工具...
2025-03-22 00:10:37,126 - BlenderMCP.IPCClient - DEBUG - 发送请求: {'method': 'mcp/listTools', 'params': {}}
2025-03-22 00:10:37,131 - BlenderMCP.IPCClient - DEBUG - 收到响应: {'error': {'code': -32601, 'message': '未知方法: mcp/listTools'}}
2025-03-22 00:10:37,131 - BlenderMCP.Server - ERROR - 获取Blender工具列表时出错: 'result'
2025-03-22 00:10:37,131 - BlenderMCP.Server - WARNING - 仅使用预定义工具列表
2025-03-22 00:10:37,131 - BlenderMCP.Server - INFO - 最终返回 5 个可用工具
2025-03-22 00:10:37,133 - mcp.server.lowlevel.server - DEBUG - Response sent
